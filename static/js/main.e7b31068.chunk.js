(this["webpackJsonpplayoff-v2"]=this["webpackJsonpplayoff-v2"]||[]).push([[0],{150:function(e,a,o){},287:function(e,a,o){"use strict";o.r(a);var t=o(0),n=o(135),c=o(7),r=o(27),l=o(14),s=(o(150),o(136)),i=o.n(s),u=o(137),d=o.n(u),h=[{key:"mpt",displayName:"\u05de\u05db\u05d1\u05d9 \u05e4\u05f4\u05ea",initialPoints:61,goalDiffrence:27},{key:"hpt",displayName:"\u05d4\u05e4\u05d5\u05e2\u05dc \u05e4\u05f4\u05ea",initialPoints:60,goalDiffrence:23},{key:"tve",displayName:"\u05e2\u05d9\u05e8\u05d5\u05e0\u05d9 \u05d8\u05d1\u05e8\u05d9\u05d4",initialPoints:55,goalDiffrence:21},{key:"uef",displayName:"\u05d0.\u05d0.\u05e4\u05d0\u05d7\u05dd",initialPoints:51,goalDiffrence:16},{key:"ako",displayName:"\u05d4\u05e4\u05d5\u05e2\u05dc \u05e2\u05db\u05d5",initialPoints:47,goalDiffrence:7},{key:"jaf",displayName:"\u05de\u05db\u05d1\u05d9 \u05d9\u05e4\u05d5",initialPoints:44,goalDiffrence:0},{key:"kfs",displayName:"\u05d4\u05e4\u05d5\u05e2\u05dc \u05db\u05e4\u05f4\u05e1",initialPoints:42,goalDiffrence:-1},{key:"bni",displayName:"\u05d1\u05e0\u05d9 \u05d9\u05d4\u05d5\u05d3\u05d4",initialPoints:41,goalDiffrence:-4}],m={HOME:1,AWAY:2,TIE:3},j=[{home:"hpt",away:"kfs",round:31,homeGoals:3,awayGoals:4,result:2,lock:!0},{home:"mpt",away:"ako",round:31,homeGoals:1,awayGoals:1,result:3,lock:!0},{home:"tve",away:"jaf",round:31,homeGoals:1,awayGoals:0,result:1,lock:!0},{home:"uef",away:"bni",round:31,homeGoals:2,awayGoals:1,result:1,lock:!0},{home:"mpt",away:"hpt",round:32,homeGoals:0,awayGoals:0,result:3,lock:!0},{home:"ako",away:"bni",round:32,homeGoals:2,awayGoals:2,result:3,lock:!0},{home:"kfs",away:"tve",round:32,homeGoals:0,awayGoals:2,result:2,lock:!0},{home:"jaf",away:"uef",round:32,homeGoals:2,awayGoals:1,result:1,lock:!0},{home:"hpt",away:"ako",round:33,homeGoals:2,awayGoals:1,result:1,lock:!0},{home:"tve",away:"mpt",round:33,homeGoals:0,awayGoals:1,result:2,lock:!0},{home:"uef",away:"kfs",round:33,homeGoals:2,awayGoals:1,result:1,lock:!0},{home:"bni",away:"jaf",round:33,homeGoals:2,awayGoals:0,result:1,lock:!0},{home:"hpt",away:"tve",round:34,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"ako",away:"jaf",round:34,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"kfs",away:"bni",round:34,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"mpt",away:"uef",round:34,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"uef",away:"hpt",round:35,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"tve",away:"ako",round:35,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"bni",away:"mpt",round:35,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"jaf",away:"kfs",round:35,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"hpt",away:"bni",round:36,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"ako",away:"kfs",round:36,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"mpt",away:"jaf",round:36,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"tve",away:"uef",round:36,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"jaf",away:"hpt",round:37,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"uef",away:"ako",round:37,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"bni",away:"tve",round:37,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1},{home:"kfs",away:"mpt",round:37,homeGoals:void 0,awayGoals:void 0,result:void 0,lock:!1}],f=o(89),v=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=a.reduce((function(e,a){return a.result&&(e[a.home]=(e[a.home]||0)+1,e[a.away]=(e[a.away]||0)+1),e}),{}),t=function(e){return e.reduce((function(e,a){return a.result===m.HOME&&(e[a.home]=(e[a.home]||0)+3),a.result===m.AWAY&&(e[a.away]=(e[a.away]||0)+3),a.result===m.TIE&&(e[a.home]=(e[a.home]||0)+1,e[a.away]=(e[a.away]||0)+1),e}),{})}(a),n=function(e){return e.reduce((function(e,a){return e[a.home]=(e[a.home]||0)+(a.homeGoals||0)-(a.awayGoals||0),e[a.away]=(e[a.away]||0)+(a.awayGoals||0)-(a.homeGoals||0),e}),{})}(a);return e.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{games:(o[e.key]||0)+30,points:e.initialPoints+(t[e.key]||0),goalDiffrence:e.goalDiffrence+(n[e.key]||0)})})).sort((function(e,a){return a.points-e.points||a.goalDiffrence-e.goalDiffrence}))},b=function(e,a){var o;return(null===(o=e.find((function(e){return e.key===a})))||void 0===o?void 0:o.displayName)||a};function y(e){try{JSON.parse(e)}catch(a){return!1}return!0}function w(e){var a=e.map((function(e){return[e.home,e.round,e.result,e.homeGoals,e.awayGoals]}));return JSON.stringify(a)}function O(e){var a=e.action,o=e.category,t=e.label,n=e.value;window.gtag&&window.gtag("event",a,{event_category:o,event_label:t,value:n})}var p=function(e,a){return e.reduce((function(e,o){return(e[o[a]]=e[o[a]]||[]).push(o),e}),{})},k=function(){var e=[0,0,0,0,0,1,1,1,1,2,2,2,3];return e[Math.floor(Math.random()*(e.length-1+1))]},G=function(e,a){var o=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var a=Object(l.a)(e,5);return{home:a[0],round:a[1],result:a[2],homeGoals:a[3],awayGoals:a[4]}}))}(a);return o.reduce((function(a,o){var t=e.findIndex((function(e){return e.home===o.home&&e.round===o.round})),n=o.result,r=o.homeGoals,l=o.awayGoals;return-1!==t&&n&&(a[t]=Object(c.a)(Object(c.a)({},e[t]),{},{result:n,homeGoals:r,awayGoals:l})),a}),Object(r.a)(e))};window.currentCalcuation=new Map;var x=o(1);function g(e){var a=e.team,o=void 0===a?{}:a,t=e.showGoals,n=void 0!==t&&t,c=e.idx,r=e.chance;return Object(x.jsxs)("div",{className:"row",children:[Object(x.jsx)("div",{className:"col small-col",children:c+1}),Object(x.jsx)("div",{className:"col",children:o.displayName}),Object(x.jsx)("div",{className:"small-col col ".concat(37===o.games?"done":""," "),children:o.games}),n&&Object(x.jsx)("div",{className:"col small-col gf",children:o.goalDiffrence}),Object(x.jsx)("div",{className:"col small-col",children:o.points}),Object(x.jsx)("div",{className:"col small-col",children:r?"".concat(r,"%"):"..."})]},o.key)}var N=o(143);function A(e){var a=e.teams,o=e.showGoals,t=e.chancePrecentile;return Object(x.jsxs)("div",{className:"table",children:[Object(x.jsxs)("div",{className:"row head-row",children:[Object(x.jsx)("div",{className:"small-col",children:"\u05de\u05e7\u05d5\u05dd"}),Object(x.jsx)("div",{children:"\u05e7\u05d1\u05d5\u05e6\u05d4"}),Object(x.jsx)("div",{className:"small-col",children:"\u05de\u05e9\u05d7\u05e7\u05d9\u05dd"}),o&&Object(x.jsx)("div",{className:"small-col",children:"\u05d4\u05e4\u05e8\u05e9"}),Object(x.jsx)("div",{className:"small-col",children:"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea"}),Object(x.jsx)("div",{className:"small-col",children:"\u05e1\u05d9\u05db\u05d5\u05d9 \u05e2\u05dc\u05d9\u05d4"})]}),Object(x.jsx)(N.a,{enabled:!0,top:0,bottomBoundary:1200,children:Object(x.jsx)("div",{className:"top-4",children:a.slice(0,4).map((function(e,a){return Object(x.jsx)(g,{team:e,showGoals:o,idx:a,chance:t.get(e.key)||null},e.key)}))})}),Object(x.jsx)("div",{children:a.slice(4).map((function(e,a){return Object(x.jsx)(g,{team:e,showGoals:o,idx:a+4,chance:t.get(e.key)||null},e.key)}))})]})}var S=h;function C(e){var a=e.fixture,o=e.index,n=e.applyFn,c=e.showRoundNumber,r=void 0===c||c,l=e.showGoals,s=Object(t.useRef)(a.homeGoals),i=Object(t.useRef)(a.awayGoals),u=a.homeGoals,d=a.awayGoals;Object(t.useEffect)((function(){l&&(s.current.value=u,i.current.value=d)}),[u,d,l]);var h=function(e){e.stopPropagation();var a,t=s.current.valueAsNumber&&s.current.checkValidity()?s.current.valueAsNumber:0,c=i.current.valueAsNumber&&i.current.checkValidity()?i.current.valueAsNumber:0;a=t>c?m.HOME:t<c?m.AWAY:m.TIE,n(o,a,t,c)},j=function(e){var a=e===m.HOME?1:0,t=e===m.AWAY?1:0;n(o,e,a,t)};return Object(x.jsxs)("tr",{className:"round-".concat(a.round," team-").concat(a.home," team-").concat(a.away),children:[r?Object(x.jsx)("td",{children:a.round}):"",Object(x.jsx)("td",{className:"".concat(a.result===m.HOME?"bold":""),children:Object(x.jsx)("div",{children:Object(x.jsx)("div",{onClick:function(){j(m.HOME)},children:b(S,a.home)})})}),l&&Object(x.jsx)("td",{className:"goals-col",children:Object(x.jsx)("div",{children:Object(x.jsx)("input",{onClick:function(e){e.target.select()},onChange:h,type:"number",min:"0",size:"1",max:"13",ref:s,disabled:a.lock})})}),Object(x.jsx)("td",{className:"tie-col ".concat(a.result===m.TIE?"bold":""),onClick:function(){j(m.TIE)},children:"X"}),l&&Object(x.jsx)("td",{className:"goals-col",children:Object(x.jsx)("div",{children:Object(x.jsx)("input",{onClick:function(e){e.target.select()},onChange:h,type:"number",min:"0",size:"1",max:"13",ref:i,disabled:a.lock})})}),Object(x.jsx)("td",{className:"".concat(a.result===m.AWAY?"bold":""),children:Object(x.jsx)("div",{children:Object(x.jsx)("div",{onClick:function(){j(m.AWAY)},children:b(S,a.away)})})})]},o)}function E(e){var a=e.fixtures,o=e.applyFn,t=e.showGoals,n=p(a,"round");return Object.keys(n).map((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsxs)("h3",{children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",e]}),Object(x.jsxs)("table",{children:[Object(x.jsx)("thead",{children:Object(x.jsxs)("tr",{children:[Object(x.jsx)("th",{children:"1"}),t&&Object(x.jsx)("th",{className:"goals-col"}),Object(x.jsx)("th",{className:"tie-col",children:"x"}),t&&Object(x.jsx)("th",{className:"goals-col"}),Object(x.jsx)("th",{children:"2"})]})}),Object(x.jsx)("tbody",{children:n[e].map((function(e){return Object(x.jsx)(C,{fixture:e,applyFn:o,index:"".concat(e.home,"/").concat(e.away),showRoundNumber:!1,showGoals:t},"".concat(e.home,"/").concat(e.away))}))})]})]},"round".concat(e))}))}var M=o(87),P=(o(286),d()((function(e,a){return new Promise((function(o,t){var n=h.map((function(e){return e.key})),r=window.currentCalcuation,s=0;for(s=0;s<a;s++){var i=e.map((function(e){return e.result?Object(c.a)({},e):Object(c.a)(Object(c.a)({},e),{},{result:(a=1,o=3,Math.floor(Math.random()*(o-a+1)+a))});var a,o})),u=v(h,i).slice(0,2).map((function(e){return e.key})),d=i.reduce((function(e,a){return e.concat(a.result)}),"");r.set(d,u)}var m=new Map(n.map((function(e){return[e,0]})));Array.from(r.values()).forEach((function(e){var a=Object(l.a)(e,2),o=a[0],t=a[1];m.set(o,m.get(o)+1),m.set(t,m.get(t)+1)}));var j=n.reduce((function(e,a){return e.set(a,Math.floor(m.get(a)/r.size*100)),e}),new Map);o({poolSize:r.size,promotionsCount:m,precentile:j})}))}),750)),I={icon:"\ud83d\udccb",position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0};function D(){var e=Object(t.useState)(Object(r.a)(j)),a=Object(l.a)(e,2),o=a[0],n=a[1],s=Object(t.useState)(v(h,Object(r.a)(j))),u=Object(l.a)(s,2),d=u[0],b=u[1],p=Object(t.useState)(!1),g=Object(l.a)(p,2),N=g[0],S=g[1],C=Object(t.useState)(0),D=Object(l.a)(C,2),F=(D[0],D[1]),H=Object(t.useState)(new Map),z=Object(l.a)(H,2),R=z[0],T=z[1];Object(t.useEffect)((function(){o.every((function(e){return e.result}))&&(O({action:"complete",category:"hpt",label:d.findIndex((function(e){return"hpt"===e.key}))+1}),O({action:"complete",category:"complete",label:o.reduce((function(e,a){return e.concat(a.result)}),"")}))}),[d,o,R]),Object(t.useEffect)((function(){T(new Map),P(o,1e4).then((function(e){var a=e.precentile,o=void 0===a?new Map:a,t=e.poolSize;T(o),o.get("hpt")>=100&&Object(f.a)({particleCount:750,spread:360,colors:["#89CFF0","#0047AB","#3F00FF","#4169E1"]}),F(t)})),b(v(h,o)),window.currentCalcuation.size>0&&(window.currentCalcuation.clear(),Y())}),[o]),Object(t.useEffect)((function(){var e=function(){try{var e=atob(new URL(document.location).searchParams.get("state")),a=window.localStorage.getItem("fixtures");if(y(e))return JSON.parse(e);if(y(a)&&window.localStorage.getItem("version")===3..toString()&&a.length)return JSON.parse(a)}catch(o){console.error(o)}return[]}();n(G(j,e))}),[]);var W=function(e){var a=new URL(document.location.origin);return a.searchParams.set("state",btoa(w(e.filter((function(e){return e.result}))))),a}(o),Y=function(){};return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("div",{id:"table",children:Object(x.jsx)(A,{teams:d,showGoals:N,chancePrecentile:R})}),Object(x.jsxs)("div",{className:"buttons",children:[Object(x.jsx)("button",{onClick:function(){O({action:"click",category:"button",label:"share"}),function(e,a){return/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)&&navigator.share?navigator.share({text:e.toString()}):navigator.clipboard?navigator.clipboard.writeText(e.toString()).catch((function(e){return console.error(e)})):(window.prompt(e.toString()),Promise.resolve())}(W).then((function(){M.b.success("\u05d4\u05d5\u05e2\u05ea\u05e7 \u05dc\u05dc\u05d5\u05d7",I)}))},children:"\u05e9\u05ea\u05e3 \u05de\u05e6\u05d1 \u05e0\u05d5\u05db\u05d7\u05d9"}),Object(x.jsx)("button",{onClick:function(){O({action:"click",category:"button",label:"reset"}),n(j)},children:"\u05d0\u05d9\u05e4\u05d5\u05e1"}),Object(x.jsx)("button",{onClick:function(){O({action:"click",category:"button",label:"shuffle"});var e=o.every((function(e){return e.result})),a=o.map((function(a){if(a.lock||a.result&&!e)return a;var o=k(),t=k(),n=o>t?m.HOME:o<t?m.AWAY:m.TIE;return Object(c.a)(Object(c.a)({},a),{},{result:n,homeGoals:o,awayGoals:t})}));n(a)},children:"\u05d0\u05e7\u05e8\u05d0\u05d9"})]}),Object(x.jsx)("div",{children:Object(x.jsxs)("label",{children:[Object(x.jsx)(i.a,{onChange:function(e){O({action:"click",category:"goals",label:e.toString()}),S(e)},checked:N,className:"switch"}),"\u05d4\u05e4\u05e8\u05e9 \u05e9\u05e2\u05e8\u05d9\u05dd"]})}),Object(x.jsx)("div",{id:"fixtures",children:Object(x.jsx)(E,{fixtures:o,applyFn:function(e,a,t,l){var s=Object(r.a)(o),i=s.findIndex((function(a){return"".concat(a.home,"/").concat(a.away)===e}));if(!s[i].lock){var u=a===s[i].result?void 0:a;s[i]=Object(c.a)(Object(c.a)({},s[i]),{},{result:u,homeGoals:u?t:void 0,awayGoals:u?l:void 0}),n(s);var d=w(s);window.localStorage.setItem("fixtures",d),window.localStorage.setItem("version",3)}},showGoals:N})}),Object(x.jsx)(M.a,{rtl:!0})]})}var F=document.getElementById("root");Object(n.createRoot)(F).render(Object(x.jsx)(t.StrictMode,{children:Object(x.jsx)(D,{})}))}},[[287,1,2]]]);
//# sourceMappingURL=main.e7b31068.chunk.js.map