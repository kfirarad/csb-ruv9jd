(this["webpackJsonpplayoff-v2"]=this["webpackJsonpplayoff-v2"]||[]).push([[0],{20:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(10),o=n(2),r=n(3),i=n(4),s=(n(20),n(11)),l=n.n(s),u=[{key:"rei",displayName:"\u05e8\u05d9\u05d9\u05e0\u05d4",initialPoints:58,goalDiffrence:13},{key:"nes",displayName:"\u05e0\u05e1 \u05e6\u05d9\u05d5\u05e0\u05d4",initialPoints:51,goalDiffrence:13},{key:"kksm",displayName:"\u05db\u05e4\u05e8 \u05e7\u05d0\u05e1\u05dd",initialPoints:53,goalDiffrence:10},{key:"ash",displayName:"\u05d0\u05e9\u05d3\u05d5\u05d3",initialPoints:47,goalDiffrence:8},{key:"hpt",displayName:"\u05d4\u05e4\u05d5\u05e2\u05dc \u05e4\u05f4\u05ea",initialPoints:50,goalDiffrence:5},{key:"kfs",displayName:"\u05db\u05e4\u05e8 \u05e1\u05d1\u05d0",initialPoints:48,goalDiffrence:8},{key:"ulf",displayName:"\u05d0.\u05d0. \u05e4\u05d0\u05d7\u05dd",initialPoints:42,goalDiffrence:-1},{key:"bnei",displayName:"\u05d1\u05e0\u05d9 \u05d9\u05d4\u05d5\u05d3\u05d4",initialPoints:38,goalDiffrence:-3}],d=1,h=2,j=3,f=[{home:"rei",away:"hpt",round:34},{home:"ulf",away:"bnei",round:34},{home:"ash",away:"kfs",round:34},{home:"kksm",away:"nes",round:34},{home:"hpt",away:"kksm",round:35},{home:"nes",away:"ash",round:35},{home:"bnei",away:"rei",round:35},{home:"kfs",away:"ulf",round:35},{home:"nes",away:"hpt",round:36},{home:"ash",away:"ulf",round:36},{home:"rei",away:"kfs",round:36},{home:"kksm",away:"bnei",round:36},{home:"hpt",away:"ash",round:37},{home:"bnei",away:"nes",round:37},{home:"kfs",away:"kksm",round:37},{home:"ulf",away:"rei",round:37}],b=n(9),m=function(e){return e.reduce((function(e,t){return t.result===d&&(e[t.home]=(e[t.home]||0)+3),t.result===h&&(e[t.away]=(e[t.away]||0)+3),t.result===j&&(e[t.home]=(e[t.home]||0)+1,e[t.away]=(e[t.away]||0)+1),e}),{})},O=function(e){return e.reduce((function(e,t){return e[t.home]=(e[t.home]||0)+(t.homeGoals||0)-(t.awayGoals||0),e[t.away]=(e[t.away]||0)+(t.awayGoals||0)-(t.homeGoals||0),e}),{})},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.reduce((function(e,t){return t.result&&(e[t.home]=(e[t.home]||0)+1,e[t.away]=(e[t.away]||0)+1),e}),{}),a=m(t),c=O(t);return e.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{games:(n[e.key]||0)+33,points:e.initialPoints+(a[e.key]||0),goalDiffrence:e.goalDiffrence+(c[e.key]||0)})})).sort((function(e,t){return t.points-e.points||t.goalDiffrence-e.goalDiffrence}))},x=function(e,t){var n;return(null===(n=e.find((function(e){return e.key===t})))||void 0===n?void 0:n.displayName)||t};function g(e){try{JSON.parse(e)}catch(t){return!1}return!0}function p(e){var t=e.map((function(e){return[e.home,e.round,e.result,e.homeGoals,e.awayGoals]}));return JSON.stringify(t)}function v(e){var t=e.action,n=e.category,a=e.label,c=e.value;window.gtag&&window.gtag("event",t,{event_category:n,event_label:a,value:c})}var w=function(){var e=[0,0,0,0,0,1,1,1,1,2,2,2,3];return e[Math.floor(Math.random()*(e.length-1+1))]},k=function(e,t){var n=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t=Object(i.a)(e,5);return{home:t[0],round:t[1],result:t[2],homeGoals:t[3],awayGoals:t[4]}}))}(t);return n.reduce((function(t,n){var a=e.findIndex((function(e){return e.home===n.home&&e.round===n.round})),c=n.result,r=n.homeGoals,i=n.awayGoals;return-1!==a&&c&&(t[a]=Object(o.a)(Object(o.a)({},e[a]),{},{result:c,homeGoals:r,awayGoals:i})),t}),Object(r.a)(e))},N=n(1);function G(e){var t=e.teams,n=e.showGoals;return Object(N.jsxs)("table",{children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"\u05de\u05e7\u05d5\u05dd"}),Object(N.jsx)("th",{children:"\u05e7\u05d1\u05d5\u05e6\u05d4"}),Object(N.jsx)("th",{children:"\u05de\u05e9\u05d7\u05e7\u05d9\u05dd"}),n&&Object(N.jsx)("th",{children:"\u05d4\u05e4\u05e8\u05e9"}),Object(N.jsx)("th",{children:"\u05e0\u05e7\u05d5\u05d3\u05d5\u05ea"})]})}),Object(N.jsx)("tbody",{children:t.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("td",{children:t+1}),Object(N.jsx)("td",{children:e.displayName}),Object(N.jsx)("td",{className:" ".concat(37===e.games?"done":""," "),children:e.games}),n&&Object(N.jsx)("td",{className:"gf",children:e.goalDiffrence}),Object(N.jsx)("td",{children:e.points})]},e.key)}))})]})}var S=u;function P(e){var t=e.fixture,n=e.index,c=e.applyFn,o=e.showRoundNumber,r=void 0===o||o,i=e.showGoals,s=Object(a.useRef)(t.homeGoals),l=Object(a.useRef)(t.awayGoals),u=t.homeGoals,f=t.awayGoals;Object(a.useEffect)((function(){i&&(s.current.value=u,l.current.value=f)}),[u,f,i]);var b=function(e){e.stopPropagation();var t=s.current.valueAsNumber&&s.current.checkValidity()?s.current.valueAsNumber:0,a=l.current.valueAsNumber&&l.current.checkValidity()?l.current.valueAsNumber:0;c(n,t>a?d:t<a?h:j,t,a)},m=function(e){c(n,e,e===d?1:0,e===h?1:0)};return Object(N.jsxs)("tr",{className:"round-".concat(t.round," team-").concat(t.home," team-").concat(t.away),children:[r?Object(N.jsx)("td",{children:t.round}):"",Object(N.jsx)("td",{className:"".concat(t.result===d?"bold":""),children:Object(N.jsx)("div",{children:Object(N.jsx)("div",{onClick:function(){m(d)},children:x(S,t.home)})})}),i&&Object(N.jsx)("td",{className:"goals-col",children:Object(N.jsx)("div",{children:Object(N.jsx)("input",{onClick:function(e){e.target.select()},onChange:b,type:"number",min:"0",size:"1",max:"13",ref:s})})}),Object(N.jsx)("td",{className:"tie-col ".concat(t.result===j?"bold":""),onClick:function(){m(j)},children:"X"}),i&&Object(N.jsx)("td",{className:"goals-col",children:Object(N.jsx)("div",{children:Object(N.jsx)("input",{onClick:function(e){e.target.select()},onChange:b,type:"number",min:"0",size:"1",max:"13",ref:l})})}),Object(N.jsx)("td",{className:"".concat(t.result===h?"bold":""),children:Object(N.jsx)("div",{children:Object(N.jsx)("div",{onClick:function(){m(h)},children:x(S,t.away)})})})]},n)}function C(e){var t,n=e.fixtures,a=e.applyFn,c=e.showGoals,o=(t="round",n.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{}));return Object.keys(o).map((function(e){return Object(N.jsxs)("div",{children:[Object(N.jsxs)("h3",{children:["\u05de\u05d7\u05d6\u05d5\u05e8 ",e]}),Object(N.jsxs)("table",{children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"1"}),c&&Object(N.jsx)("th",{className:"goals-col"}),Object(N.jsx)("th",{className:"tie-col",children:"x"}),c&&Object(N.jsx)("th",{className:"goals-col"}),Object(N.jsx)("th",{children:"2"})]})}),Object(N.jsx)("tbody",{children:o[e].map((function(e){return Object(N.jsx)(P,{fixture:e,applyFn:a,index:"".concat(e.home,"/").concat(e.away),showRoundNumber:!1,showGoals:c},"".concat(e.home,"/").concat(e.away))}))})]})]},"round".concat(e))}))}var D=n(12);n(23);function F(){var e=Object(a.useState)(Object(r.a)(f)),t=Object(i.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(y(u,Object(r.a)(f))),m=Object(i.a)(s,2),O=m[0],x=m[1],S=Object(a.useState)(!1),P=Object(i.a)(S,2),F=P[0],A=P[1];Object(a.useEffect)((function(){if(n.every((function(e){return e.result}))){var e=O.findIndex((function(e){return"hpt"===e.key}))+1;v({action:"complete",category:"hpt",label:e}),v({action:"complete",category:"complete",label:n.reduce((function(e,t){return e.concat(t.result)}),"")}),1===e||2===e?Object(b.a)({particleCount:750,spread:360,colors:["#89CFF0","#0047AB","#3F00FF","#4169E1"]}):b.a&&b.a.reset()}}),[O,n]),Object(a.useEffect)((function(){x(y(u,n))}),[n]),Object(a.useEffect)((function(){var e=function(){try{var e=atob(new URL(document.location).searchParams.get("state")),t=window.localStorage.getItem("fixtures");if(g(e))return JSON.parse(e);if(g(t)&&window.localStorage.getItem("version")===2..toString()&&t.length)return JSON.parse(t)}catch(n){console.error(n)}return[]}();c(k(n,e))}),[]);var I=function(e){var t=new URL(document.location.origin);return t.searchParams.set("state",btoa(p(e.filter((function(e){return e.result}))))),t}(n);return Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)("div",{id:"table",children:Object(N.jsx)(G,{teams:O,showGoals:F})}),Object(N.jsx)("button",{onClick:function(){v({action:"click",category:"button",label:"share"}),function(e,t){/Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(navigator.userAgent)&&navigator.share?navigator.share({text:e.toString()}):navigator.clipboard?navigator.clipboard.writeText(e.toString()).then((function(){t&&t.success("\u05d4\u05d5\u05e2\u05ea\u05e7 \u05dc\u05dc\u05d5\u05d7",{icon:"\ud83d\udccb",position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})).catch((function(e){return console.error(e)})):window.prompt(e.toString())}(I)},children:"\u05e9\u05ea\u05e3 \u05de\u05e6\u05d1 \u05e0\u05d5\u05db\u05d7\u05d9"}),Object(N.jsx)("button",{onClick:function(){v({action:"click",category:"button",label:"reset"}),c(f)},children:"\u05d0\u05d9\u05e4\u05d5\u05e1"}),Object(N.jsx)("button",{onClick:function(){v({action:"click",category:"button",label:"shuffle"});var e=n.map((function(e){var t=w(),n=w(),a=t>n?d:t<n?h:j;return Object(o.a)(Object(o.a)({},e),{},{result:a,homeGoals:t,awayGoals:n})}));c(e)},children:"\u05d0\u05e7\u05e8\u05d0\u05d9"}),Object(N.jsx)("div",{children:Object(N.jsxs)("label",{children:[Object(N.jsx)(l.a,{onChange:function(e){v({action:"click",category:"goals",label:e.toString()}),A(e)},checked:F}),"\u05d4\u05e4\u05e8\u05e9 \u05e9\u05e2\u05e8\u05d9\u05dd"]})}),Object(N.jsx)("div",{id:"fixtures",children:Object(N.jsx)(C,{fixtures:n,applyFn:function(e,t,a,i){var s=Object(r.a)(n),l=s.findIndex((function(t){return"".concat(t.home,"/").concat(t.away)===e})),u=t===s[l].result&&t===j?void 0:t;s[l]=Object(o.a)(Object(o.a)({},s[l]),{},{result:u,homeGoals:a,awayGoals:i}),c(s);var d=p(s);window.localStorage.setItem("fixtures",d),window.localStorage.setItem("version",2)},showGoals:F})}),Object(N.jsx)(D.a,{})]})}var A=document.getElementById("root");Object(c.createRoot)(A).render(Object(N.jsx)(a.StrictMode,{children:Object(N.jsx)(F,{})}))}},[[24,1,2]]]);
//# sourceMappingURL=main.4dd06f4d.chunk.js.map