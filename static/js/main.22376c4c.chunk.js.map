{"version":3,"sources":["constans.js","utils.js","components/LeagueTable.jsx","components/SingleFixture.jsx","components/Fixtures.jsx","App.js","index.js"],"names":["initialTeams","key","displayName","initialPoints","goalDiffrence","resultsTypes","initialFixtures","home","away","round","pointsWon","fixtures","reduce","ac","fixture","result","goalsWon","homeGoals","awayGoals","calcuateTeamsPointes","teams","gamesAdded","pointsAdded","goalsAdded","map","t","games","points","sort","t1","t2","getTeamDisplayName","teamKey","find","isJsonString","str","JSON","parse","e","minifyJson","minified","f","stringify","trackEvent","action","category","label","value","window","gtag","event_category","event_label","randomIntFromInterval","min","max","Math","floor","random","LeagueTable","showGoals","i","className","SingleFixture","index","applyFn","showRoundNumber","homeGoalsInput","useRef","awayGoalsInput","useEffect","current","handleChange","stopPropagation","newHomeGoals","newAwayGoals","handleClick","onClick","onChange","type","size","ref","Fixtures","rounds","rv","x","push","Object","keys","roundNumber","App","useState","setFixtures","setTeams","setShowGoals","every","hptPosition","findIndex","confetti","particleCount","spread","colors","reset","a","v","concat","agg","set","qsState","atob","URL","document","location","searchParams","get","fixturesFromLS","localStorage","getItem","applyFromClient","toString","length","error","console","clientFixtures","raw","newFixtures","forEach","initialIndex","shareLink","btoa","filter","id","test","navigator","userAgent","share","text","clipboard","writeText","then","alert","catch","prompt","undefined","target","checked","changedFixtureIdx","idx","setItem","Map","rootElement","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.22376c4c.chunk.js","sourcesContent":["const currentVersion = 1;\nconst initialTeams = [\n  { key: \"rei\", displayName: \"ריינה\", initialPoints: 58, goalDiffrence: 13 },\n  { key: \"nes\", displayName: \"נס ציונה\", initialPoints: 51, goalDiffrence: 13 },\n  {\n    key: \"kksm\",\n    displayName: \"כפר קאסם\",\n    initialPoints: 53,\n    goalDiffrence: 10\n  },\n  { key: \"ash\", displayName: \"אשדוד\", initialPoints: 47, goalDiffrence: 8 },\n  { key: \"hpt\", displayName: \"הפועל פ״ת\", initialPoints: 50, goalDiffrence: 5 },\n  { key: \"kfs\", displayName: \"כפר סבא\", initialPoints: 48, goalDiffrence: 8 },\n  {\n    key: \"ulf\",\n    displayName: \"א.א. פאחם\",\n    initialPoints: 42,\n    goalDiffrence: -1\n  },\n  {\n    key: \"bnei\",\n    displayName: \"בני יהודה\",\n    initialPoints: 38,\n    goalDiffrence: -3\n  }\n];\n\nconst resultsTypes = {\n  HOME: \"1\",\n  AWAY: \"2\",\n  TIE: \"3\"\n};\n\nconst initialFixtures = [\n  {\n    home: \"rei\",\n    away: \"hpt\",\n    round: 34\n  },\n  {\n    home: \"ulf\",\n    away: \"bnei\",\n    round: 34\n  },\n  {\n    home: \"ash\",\n    away: \"kfs\",\n    round: 34\n  },\n  {\n    home: \"kksm\",\n    away: \"nes\",\n    round: 34\n  },\n\n  {\n    home: \"hpt\",\n    away: \"kksm\",\n    round: 35\n  },\n  {\n    home: \"nes\",\n    away: \"ash\",\n    round: 35\n  },\n  {\n    home: \"bnei\",\n    away: \"rei\",\n    round: 35\n  },\n  {\n    home: \"kfs\",\n    away: \"ulf\",\n    round: 35\n  },\n\n  {\n    home: \"nes\",\n    away: \"hpt\",\n    round: 36\n  },\n  {\n    home: \"ash\",\n    away: \"ulf\",\n    round: 36\n  },\n  {\n    home: \"rei\",\n    away: \"kfs\",\n    round: 36\n  },\n  {\n    home: \"kksm\",\n    away: \"bnei\",\n    round: 36\n  },\n\n  {\n    home: \"hpt\",\n    away: \"ash\",\n    round: 37\n  },\n  {\n    home: \"bnei\",\n    away: \"nes\",\n    round: 37\n  },\n  {\n    home: \"kfs\",\n    away: \"kksm\",\n    round: 37\n  },\n  {\n    home: \"ulf\",\n    away: \"rei\",\n    round: 37\n  }\n];\n\nexport { initialTeams, initialFixtures, resultsTypes, currentVersion };\n","import { resultsTypes } from \"./constans\";\nimport confetti from \"canvas-confetti\";\n\nconst pointsWon = (fixtures) =>\n  fixtures.reduce((ac, fixture) => {\n    if (fixture.result === resultsTypes.HOME) {\n      ac[fixture.home] = (ac[fixture.home] || 0) + 3;\n    }\n    if (fixture.result === resultsTypes.AWAY) {\n      ac[fixture.away] = (ac[fixture.away] || 0) + 3;\n    }\n    if (fixture.result === resultsTypes.TIE) {\n      ac[fixture.home] = (ac[fixture.home] || 0) + 1;\n      ac[fixture.away] = (ac[fixture.away] || 0) + 1;\n    }\n    return ac;\n  }, {});\n\nconst goalsWon = (fixtures) =>\n  fixtures.reduce((ac, fixture) => {\n    ac[fixture.home] =\n      (ac[fixture.home] || 0) +\n      (fixture.homeGoals || 0) -\n      (fixture.awayGoals || 0);\n    ac[fixture.away] =\n      (ac[fixture.away] || 0) +\n      (fixture.awayGoals || 0) -\n      (fixture.homeGoals || 0);\n    return ac;\n  }, {});\n\nconst calcuateTeamsPointes = function (teams, fixtures = []) {\n  const gamesAdded = fixtures.reduce((ac, fixture) => {\n    if (fixture.result) {\n      ac[fixture.home] = (ac[fixture.home] || 0) + 1;\n      ac[fixture.away] = (ac[fixture.away] || 0) + 1;\n    }\n    return ac;\n  }, {});\n  const pointsAdded = pointsWon(fixtures);\n  const goalsAdded = goalsWon(fixtures);\n  return teams\n    .map((t) => {\n      return {\n        ...t,\n        games: (gamesAdded[t.key] || 0) + 33,\n        points: t.initialPoints + (pointsAdded[t.key] || 0),\n        goalDiffrence: t.goalDiffrence + (goalsAdded[t.key] || 0)\n      };\n    })\n    .sort(\n      (t1, t2) => t2.points - t1.points || t2.goalDiffrence - t1.goalDiffrence\n    );\n};\n\nconst getTeamDisplayName = (teams, teamKey) =>\n  teams.find((t) => t.key === teamKey)?.displayName || teamKey;\n\nfunction isJsonString(str) {\n  try {\n    JSON.parse(str);\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\n\nfunction minifyJson(fixtures) {\n  const minified = fixtures.map((f) => {\n    return [f.home, f.round, f.result];\n  });\n  return JSON.stringify(minified);\n}\n\nfunction unminifyJson(raw) {\n  return raw.map((f) => {\n    const [home, round, result] = f;\n    return {\n      home,\n      round,\n      result\n    };\n  });\n}\n\nfunction trackEvent({ action, category, label, value }) {\n  if (window.gtag) {\n    window.gtag(\"event\", action, {\n      event_category: category,\n      event_label: label,\n      value: value\n    });\n  }\n}\n\nconst groupBy = function (xs, key) {\n  return xs.reduce(function (rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n};\n\nconst randomIntFromInterval = (min, max) => {\n  // min and max included\n  return Math.floor(Math.random() * (max - min + 1) + min);\n};\n\nexport {\n  calcuateTeamsPointes,\n  getTeamDisplayName,\n  isJsonString,\n  confetti,\n  minifyJson,\n  unminifyJson,\n  trackEvent,\n  groupBy,\n  randomIntFromInterval\n};\n","export default function LeagueTable({ teams, showGoals }) {\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th>מקום</th>\n          <th>קבוצה</th>\n          <th>משחקים</th>\n          {showGoals && <th>הפרש</th>}\n          <th>נקודות</th>\n        </tr>\n      </thead>\n      <tbody>\n        {teams.map((t, i) => {\n          return (\n            <tr key={t.key}>\n              <td>{i + 1}</td>\n              <td>{t.displayName}</td>\n              <td className={` ${t.games === 37 ? \"done\" : \"\"} `}>{t.games}</td>\n              {showGoals && <td className=\"gf\">{t.goalDiffrence}</td>}\n              <td>{t.points}</td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n","import { useEffect, useRef, useState } from \"react\";\nimport { resultsTypes, initialTeams } from \"../constans\";\nimport { getTeamDisplayName } from \"../utils\";\nconst teams = initialTeams;\n\nexport default function SingleFixture({\n  fixture,\n  index,\n  applyFn,\n  showRoundNumber = true,\n  showGoals\n}) {\n  const homeGoalsInput = useRef(fixture.homeGoals);\n  const awayGoalsInput = useRef(fixture.awayGoals);\n\n  const { homeGoals, awayGoals } = fixture;\n\n  useEffect(() => {\n    if (showGoals) {\n      homeGoalsInput.current.value = homeGoals;\n      awayGoalsInput.current.value = awayGoals;\n    }\n  }, [homeGoals, awayGoals, showGoals]);\n\n  const handleChange = (e) => {\n    e.stopPropagation();\n    const newHomeGoals =\n      homeGoalsInput.current.value &&\n      homeGoalsInput.current.value > 0 &&\n      homeGoalsInput.current.value < 10\n        ? homeGoalsInput.current.value\n        : \"0\";\n    const newAwayGoals =\n      awayGoalsInput.current.value &&\n      awayGoalsInput.current.value > 0 &&\n      awayGoalsInput.current.value < 10\n        ? awayGoalsInput.current.value\n        : \"0\";\n    let resultType;\n    if (newHomeGoals > newAwayGoals) {\n      resultType = resultsTypes.HOME;\n    } else if (newHomeGoals < newAwayGoals) {\n      resultType = resultsTypes.AWAY;\n    } else {\n      resultType = resultsTypes.TIE;\n    }\n    applyFn(index, resultType, newHomeGoals, newAwayGoals);\n  };\n\n  const handleClick = (result) => {\n    const homeGoals = result === resultsTypes.HOME ? 1 : 0;\n    const awayGoals = result === resultsTypes.AWAY ? 1 : 0;\n\n    applyFn(index, result, homeGoals, awayGoals);\n  };\n\n  return (\n    <tr\n      key={index}\n      className={`round-${fixture.round} team-${fixture.home} team-${fixture.away}`}\n    >\n      {showRoundNumber ? <td>{fixture.round}</td> : \"\"}\n      <td className={`${fixture.result === resultsTypes.HOME ? \"bold\" : \"\"}`}>\n        <div\n          onClick={() => {\n            handleClick(resultsTypes.HOME);\n          }}\n        >\n          {getTeamDisplayName(teams, fixture.home)}\n        </div>\n        {showGoals && (\n          <div>\n            <input\n              onChange={handleChange}\n              type=\"number\"\n              min=\"0\"\n              size=\"1\"\n              max=\"13\"\n              ref={homeGoalsInput}\n            />\n          </div>\n        )}\n      </td>\n      <td\n        className={`${fixture.result === resultsTypes.TIE ? \"bold\" : \"\"}`}\n        onClick={() => {\n          handleClick(resultsTypes.TIE);\n        }}\n      >\n        X\n      </td>\n      <td className={`${fixture.result === resultsTypes.AWAY ? \"bold\" : \"\"}`}>\n        <div\n          onClick={() => {\n            handleClick(resultsTypes.AWAY);\n          }}\n        >\n          {getTeamDisplayName(teams, fixture.away)}\n        </div>\n        {showGoals && (\n          <div>\n            <input\n              onChange={handleChange}\n              type=\"number\"\n              min=\"0\"\n              size=\"1\"\n              max=\"13\"\n              ref={awayGoalsInput}\n            />\n          </div>\n        )}\n      </td>\n    </tr>\n  );\n}\n","import SingleFixture from \"./SingleFixture\";\nimport { groupBy } from \"../utils\";\n\nexport default function Fixtures({ fixtures, applyFn, showGoals }) {\n  const rounds = groupBy(fixtures, \"round\");\n\n  return Object.keys(rounds).map((roundNumber) => (\n    <div key={`round${roundNumber}`}>\n      <h3>מחזור {roundNumber}</h3>\n      <table>\n        <thead>\n          <tr>\n            <th>1</th>\n            <th>x</th>\n            <th>2</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rounds[roundNumber].map((fixture) => (\n            <SingleFixture\n              key={`${fixture.home}/${fixture.away}`}\n              fixture={fixture}\n              applyFn={applyFn}\n              index={`${fixture.home}/${fixture.away}`}\n              showRoundNumber={false}\n              showGoals={showGoals}\n            />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  ));\n}\n","import \"./styles.scss\";\nimport { useEffect, useState } from \"react\";\nimport {\n  initialTeams,\n  initialFixtures,\n  currentVersion,\n  resultsTypes\n} from \"./constans\";\nimport {\n  calcuateTeamsPointes,\n  isJsonString,\n  minifyJson,\n  unminifyJson,\n  confetti,\n  trackEvent,\n  randomIntFromInterval\n} from \"./utils\";\nimport LeagueTable from \"./components/LeagueTable\";\nimport Fixtures from \"./components/Fixtures\";\n\nwindow.agg = window.agg || new Map();\n\nexport default function App() {\n  const [fixtures, setFixtures] = useState(initialFixtures);\n  const [teams, setTeams] = useState(\n    calcuateTeamsPointes(initialTeams, initialFixtures)\n  );\n\n  const [showGoals, setShowGoals] = useState(false);\n\n  useEffect(() => {\n    if (fixtures.every((f) => f.result)) {\n      const hptPosition = teams.findIndex((t) => t.key === \"hpt\") + 1;\n      trackEvent({\n        action: \"complete\",\n        category: \"hpt\",\n        label: hptPosition\n      });\n      if (hptPosition === 1 || hptPosition === 2) {\n        confetti({\n          particleCount: 750,\n          spread: 360,\n          colors: [\"#89CFF0\", \"#0047AB\", \"#3F00FF\", \"#4169E1\"]\n        });\n      } else {\n        confetti && confetti.reset();\n      }\n\n      const minified = fixtures.reduce((a, v) => {\n        return a.concat(v.result);\n      }, \"\");\n      window.agg.set(minified, hptPosition);\n    }\n  }, [teams, fixtures]);\n\n  useEffect(() => {\n    setTeams(calcuateTeamsPointes(initialTeams, fixtures));\n  }, [fixtures]);\n\n  useEffect(() => {\n    try {\n      const qsState = atob(\n        new URL(document.location).searchParams.get(\"state\")\n      );\n      const fixturesFromLS = window.localStorage.getItem(\"fixtures\");\n      if (isJsonString(qsState)) {\n        applyFromClient(JSON.parse(qsState));\n      } else if (isJsonString(fixturesFromLS)) {\n        const LSVersion =\n          window.localStorage.getItem(\"version\") === currentVersion.toString();\n        if (LSVersion && fixturesFromLS.length) {\n          applyFromClient(JSON.parse(fixturesFromLS));\n        }\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  }, []);\n\n  const applyFromClient = (clientFixtures) => {\n    const newFixtures = [...fixtures];\n    unminifyJson(clientFixtures).forEach((fixture) => {\n      const initialIndex = newFixtures.findIndex(\n        (f) => f.home === fixture.home && f.round === fixture.round\n      );\n      if (initialIndex) {\n        newFixtures[initialIndex].result = fixture.result;\n      }\n    });\n    setFixtures(newFixtures);\n  };\n\n  const applyFixtureResult = (\n    changedFixtureIdx,\n    result,\n    homeGoals,\n    awayGoals\n  ) => {\n    const newFixtures = [...fixtures];\n    const idx = newFixtures.findIndex(\n      (f) => `${f.home}/${f.away}` === changedFixtureIdx\n    );\n    newFixtures[idx].result =\n      result === newFixtures[idx].result && result === resultsTypes.TIE\n        ? undefined\n        : result;\n\n    newFixtures[idx].homeGoals = homeGoals;\n    newFixtures[idx].awayGoals = awayGoals;\n\n    setFixtures(newFixtures);\n    const minified = minifyJson(newFixtures.filter((f) => f.result));\n    window.localStorage.setItem(\"fixtures\", minified);\n    window.localStorage.setItem(\"version\", currentVersion);\n  };\n\n  const shareLink = new URL(document.location);\n  shareLink.searchParams.set(\n    \"state\",\n    btoa(minifyJson(fixtures.filter((f) => f.result)))\n  );\n\n  const reset = () => {\n    trackEvent({ action: \"click\", category: \"button\", label: \"reset\" });\n    setFixtures(\n      fixtures.map((f) => {\n        return {\n          ...f,\n          result: undefined,\n          homeGoals: undefined,\n          awayGoals: undefined\n        };\n      })\n    );\n  };\n\n  const copyShareLink = () => {\n    trackEvent({ action: \"click\", category: \"button\", label: \"share\" });\n    const isMobile = /Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(\n      navigator.userAgent\n    );\n\n    if (isMobile && navigator.share) {\n      navigator.share({\n        text: shareLink.toString()\n      });\n    } else if (navigator.clipboard) {\n      navigator.clipboard\n        .writeText(shareLink.toString())\n        .then(() => {\n          alert(\"הועתק ללוח\");\n        })\n        .catch((e) => console.error(e));\n    } else {\n      window.prompt(shareLink.toString());\n    }\n  };\n\n  const shuffle = () => {\n    trackEvent({ action: \"click\", category: \"button\", label: \"shuffle\" });\n    const newFixtures = fixtures.map((f) => {\n      const result = randomIntFromInterval(1, 3).toString();\n      const homeGoals = result === resultsTypes.HOME ? 1 : 0;\n      const awayGoals = result === resultsTypes.AWAY ? 1 : 0;\n      return { ...f, result, homeGoals, awayGoals };\n    });\n    setFixtures(newFixtures);\n  };\n\n  const megaShuffle = (count) => {\n    for (let i = 0; i < count; i++) {\n      setTimeout(() => {\n        const newFixtures = fixtures.map((f) => {\n          return { ...f, result: randomIntFromInterval(1, 3).toString() };\n        });\n        setFixtures(newFixtures);\n      }, 1);\n    }\n  };\n\n  const toggleGoals = (e) => {\n    trackEvent({\n      action: \"click\",\n      category: \"goals\",\n      label: e.target.checked.toString()\n    });\n    setShowGoals(e.target.checked);\n  };\n\n  return (\n    <div className=\"App\">\n      <div id=\"table\">\n        <LeagueTable teams={teams} showGoals={showGoals} />\n      </div>\n      <button onClick={copyShareLink}>שתף מצב נוכחי</button>\n      <button onClick={reset}>איפוס</button>\n      <button onClick={shuffle}>אקראי</button>\n      <div>\n        <label>\n          <input type=\"checkbox\" onChange={toggleGoals} />\n          הפרש שערים\n        </label>\n      </div>\n      {/* <div>השלמות: {agg.size}</div>\n      <div>\n        עליות:{\" \"}\n        {Array.from(agg.values()).filter((v) => v === 1 || v === 2).length}\n      </div> */}\n      <div id=\"fixtures\">\n        <Fixtures\n          fixtures={fixtures}\n          applyFn={applyFixtureResult}\n          showGoals={showGoals}\n        />\n      </div>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}