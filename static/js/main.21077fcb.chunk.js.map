{"version":3,"sources":["constans.js","utils.js","components/LeagueTable.jsx","components/SingleFixture.jsx","components/Fixtures.jsx","App.js","index.js"],"names":["initialTeams","key","displayName","initialPoints","resultsTypes","initialFixtures","home","away","round","calcuateTeamsPointes","teams","fixtures","pointsAdded","reduce","ac","fixture","result","gamesAdded","map","t","games","points","sort","t1","t2","getTeamDisplayName","teamKey","find","isJsonString","str","JSON","parse","e","minifyJson","minified","f","stringify","trackEvent","action","category","label","value","window","gtag","event_category","event_label","LeagueTable","i","className","SingleFixture","index","applyFn","showRoundNumber","onClick","Fixtures","rounds","rv","x","push","Object","keys","roundNumber","App","useState","setFixtures","setTeams","useEffect","every","hptPosition","findIndex","confetti","particleCount","spread","colors","reset","qsState","atob","URL","document","location","searchParams","get","fixturesFromLS","localStorage","getItem","applyFromClient","toString","length","error","console","log","clientFixtures","raw","newFixtures","forEach","initialIndex","shareLink","set","btoa","filter","id","test","navigator","userAgent","share","text","clipboard","writeText","then","alert","catch","prompt","undefined","min","max","Math","floor","random","changedFixtureIdx","idx","setItem","rootElement","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.21077fcb.chunk.js","sourcesContent":["const currentVersion = 1;\nconst initialTeams = [\n  { key: \"rei\", displayName: \"ריינה\", initialPoints: 58 },\n  { key: \"nes\", displayName: \"נס ציונה\", initialPoints: 51 },\n  { key: \"kksm\", displayName: \"כפר קאסם\", initialPoints: 53 },\n  { key: \"ash\", displayName: \"אשדוד\", initialPoints: 47 },\n  { key: \"hpt\", displayName: \"הפועל פ״ת\", initialPoints: 50 },\n  { key: \"kfs\", displayName: \"כפר סבא\", initialPoints: 48 },\n  { key: \"ulf\", displayName: \"א.א. פאחם\", initialPoints: 42 },\n  {\n    key: \"bnei\",\n    displayName: \"בני יהודה\",\n    initialPoints: 38\n  }\n];\n\nconst resultsTypes = {\n  HOME: \"1\",\n  AWAY: \"2\",\n  TIE: \"3\"\n};\n\nconst initialFixtures = [\n  {\n    home: \"rei\",\n    away: \"hpt\",\n    round: 34\n  },\n  {\n    home: \"ulf\",\n    away: \"bnei\",\n    round: 34\n  },\n  {\n    home: \"ash\",\n    away: \"kfs\",\n    round: 34\n  },\n  {\n    home: \"kksm\",\n    away: \"nes\",\n    round: 34\n  },\n\n  {\n    home: \"hpt\",\n    away: \"kksm\",\n    round: 35\n  },\n  {\n    home: \"nes\",\n    away: \"ash\",\n    round: 35\n  },\n  {\n    home: \"bnei\",\n    away: \"rei\",\n    round: 35\n  },\n  {\n    home: \"kfs\",\n    away: \"ulf\",\n    round: 35\n  },\n\n  {\n    home: \"nes\",\n    away: \"hpt\",\n    round: 36\n  },\n  {\n    home: \"ash\",\n    away: \"ulf\",\n    round: 36\n  },\n  {\n    home: \"rei\",\n    away: \"kfs\",\n    round: 36\n  },\n  {\n    home: \"kksm\",\n    away: \"bnei\",\n    round: 36\n  },\n\n  {\n    home: \"hpt\",\n    away: \"ash\",\n    round: 37\n  },\n  {\n    home: \"bnei\",\n    away: \"nes\",\n    round: 37\n  },\n  {\n    home: \"kfs\",\n    away: \"kksm\",\n    round: 37\n  },\n  {\n    home: \"ulf\",\n    away: \"rei\",\n    round: 37\n  }\n];\n\nexport { initialTeams, initialFixtures, resultsTypes, currentVersion };\n","import { resultsTypes } from \"./constans\";\nimport confetti from \"canvas-confetti\";\n\nconst calcuateTeamsPointes = function (teams, fixtures = []) {\n  const pointsAdded = fixtures.reduce((ac, fixture) => {\n    if (fixture.result === resultsTypes.HOME) {\n      ac[fixture.home] = (ac[fixture.home] || 0) + 3;\n    }\n    if (fixture.result === resultsTypes.AWAY) {\n      ac[fixture.away] = (ac[fixture.away] || 0) + 3;\n    }\n    if (fixture.result === resultsTypes.TIE) {\n      ac[fixture.home] = (ac[fixture.home] || 0) + 1;\n      ac[fixture.away] = (ac[fixture.away] || 0) + 1;\n    }\n    return ac;\n  }, {});\n\n  const gamesAdded = fixtures.reduce((ac, fixture) => {\n    if (fixture.result) {\n      ac[fixture.home] = (ac[fixture.home] || 0) + 1;\n      ac[fixture.away] = (ac[fixture.away] || 0) + 1;\n    }\n    return ac;\n  }, {});\n\n  return teams\n    .map((t) => {\n      return {\n        ...t,\n        games: (gamesAdded[t.key] || 0) + 33,\n        points: t.initialPoints + (pointsAdded[t.key] || 0)\n      };\n    })\n    .sort((t1, t2) => t2.points - t1.points);\n};\n\nconst getTeamDisplayName = (teams, teamKey) =>\n  teams.find((t) => t.key === teamKey)?.displayName || teamKey;\n\nfunction isJsonString(str) {\n  try {\n    JSON.parse(str);\n  } catch (e) {\n    return false;\n  }\n  return true;\n}\n\nfunction minifyJson(fixtures) {\n  const minified = fixtures.map((f) => {\n    return [f.home, f.round, f.result];\n  });\n  return JSON.stringify(minified);\n}\n\nfunction unminifyJson(raw) {\n  return raw.map((f) => {\n    const [home, round, result] = f;\n    return {\n      home,\n      round,\n      result\n    };\n  });\n}\n\nfunction trackEvent({ action, category, label, value }) {\n  if (window.gtag) {\n    window.gtag(\"event\", action, {\n      event_category: category,\n      event_label: label,\n      value: value\n    });\n  }\n}\n\nexport {\n  calcuateTeamsPointes,\n  getTeamDisplayName,\n  isJsonString,\n  confetti,\n  minifyJson,\n  unminifyJson,\n  trackEvent\n};\n","export default function LeagueTable({ teams }) {\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th>מקום</th>\n          <th>קבוצה</th>\n          <th>משחקים</th>\n          <th>נקודות</th>\n        </tr>\n      </thead>\n      <tbody>\n        {teams.map((t, i) => {\n          return (\n            <tr key={t.key}>\n              <td>{i + 1}</td>\n              <td>{t.displayName}</td>\n              <td className={` ${t.games === 37 ? \"done\" : \"\"} `}>{t.games}</td>\n              <td>{t.points}</td>\n            </tr>\n          );\n        })}\n      </tbody>\n    </table>\n  );\n}\n","import { resultsTypes, initialTeams } from \"../constans\";\nimport { getTeamDisplayName } from \"../utils\";\nconst teams = initialTeams;\n\nexport default function SingleFixture({\n  fixture,\n  index,\n  applyFn,\n  showRoundNumber = true\n}) {\n  return (\n    <tr\n      key={index}\n      className={`round-${fixture.round} team-${fixture.home} team-${fixture.away}`}\n    >\n      {showRoundNumber ? <td>{fixture.round}</td> : \"\"}\n      <td\n        className={`${fixture.result === resultsTypes.HOME ? \"bold\" : \"\"}`}\n        onClick={() => {\n          applyFn(index, resultsTypes.HOME);\n        }}\n      >\n        {getTeamDisplayName(teams, fixture.home)}\n      </td>\n      <td\n        className={`${fixture.result === resultsTypes.TIE ? \"bold\" : \"\"}`}\n        onClick={() => {\n          applyFn(index, resultsTypes.TIE);\n        }}\n      >\n        X\n      </td>\n      <td\n        className={`${fixture.result === resultsTypes.AWAY ? \"bold\" : \"\"}`}\n        onClick={() => {\n          applyFn(index, resultsTypes.AWAY);\n        }}\n      >\n        {getTeamDisplayName(teams, fixture.away)}\n      </td>\n    </tr>\n  );\n}\n","import SingleFixture from \"./SingleFixture\";\n\nvar groupBy = function (xs, key) {\n  return xs.reduce(function (rv, x) {\n    (rv[x[key]] = rv[x[key]] || []).push(x);\n    return rv;\n  }, {});\n};\n\nexport default function Fixtures({ fixtures, applyFn }) {\n  const rounds = groupBy(fixtures, \"round\");\n\n  return Object.keys(rounds).map((roundNumber) => (\n    <div key={`round${roundNumber}`}>\n      <h3>מחזור {roundNumber}</h3>\n      <table>\n        <thead>\n          <tr>\n            <th>1</th>\n            <th>x</th>\n            <th>2</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rounds[roundNumber].map((fixture) => (\n            <SingleFixture\n              key={`${fixture.home}/${fixture.away}`}\n              fixture={fixture}\n              applyFn={applyFn}\n              index={`${fixture.home}/${fixture.away}`}\n              showRoundNumber={false}\n            />\n          ))}\n        </tbody>\n      </table>\n    </div>\n  ));\n}\n","import \"./styles.scss\";\nimport { useEffect, useState } from \"react\";\nimport { initialTeams, initialFixtures, currentVersion } from \"./constans\";\nimport {\n  calcuateTeamsPointes,\n  isJsonString,\n  minifyJson,\n  unminifyJson,\n  confetti,\n  trackEvent\n} from \"./utils\";\nimport LeagueTable from \"./components/LeagueTable\";\nimport Fixtures from \"./components/Fixtures\";\n\nexport default function App() {\n  const [fixtures, setFixtures] = useState(initialFixtures);\n  const [teams, setTeams] = useState(\n    calcuateTeamsPointes(initialTeams, initialFixtures)\n  );\n\n  useEffect(() => {\n    if (fixtures.every((f) => f.result)) {\n      const hptPosition = teams.findIndex((t) => t.key === \"hpt\") + 1;\n      trackEvent({\n        action: \"complete\",\n        category: \"hpt\",\n        label: hptPosition\n      });\n      if (hptPosition === 1 || hptPosition === 2) {\n        confetti({\n          particleCount: 750,\n          spread: 360,\n          colors: [\"#89CFF0\", \"#0047AB\", \"#3F00FF\", \"#4169E1\"]\n        });\n      } else {\n        confetti && confetti.reset();\n      }\n    }\n  }, [teams, fixtures]);\n\n  useEffect(() => {\n    setTeams(calcuateTeamsPointes(initialTeams, fixtures));\n  }, [fixtures]);\n\n  useEffect(() => {\n    try {\n      const qsState = atob(\n        new URL(document.location).searchParams.get(\"state\")\n      );\n      const fixturesFromLS = window.localStorage.getItem(\"fixtures\");\n      if (isJsonString(qsState)) {\n        applyFromClient(JSON.parse(qsState));\n      } else if (isJsonString(fixturesFromLS)) {\n        const LSVersion =\n          window.localStorage.getItem(\"version\") === currentVersion.toString();\n        if (LSVersion && fixturesFromLS.length) {\n          applyFromClient(JSON.parse(fixturesFromLS));\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }, []);\n\n  const applyFromClient = (clientFixtures) => {\n    const newFixtures = [...fixtures];\n    unminifyJson(clientFixtures).forEach((fixture) => {\n      const initialIndex = newFixtures.findIndex(\n        (f) => f.home === fixture.home && f.round === fixture.round\n      );\n      if (initialIndex) {\n        newFixtures[initialIndex].result = fixture.result;\n      }\n    });\n    setFixtures(newFixtures);\n  };\n\n  const applyFixtureResult = (changedFixtureIdx, result) => {\n    const newFixtures = [...fixtures];\n    const idx = newFixtures.findIndex(\n      (f) => `${f.home}/${f.away}` === changedFixtureIdx\n    );\n    newFixtures[idx].result =\n      result === newFixtures[idx].result ? undefined : result;\n\n    setFixtures(newFixtures);\n\n    window.localStorage.setItem(\n      \"fixtures\",\n      minifyJson(newFixtures.filter((f) => f.result))\n    );\n    window.localStorage.setItem(\"version\", currentVersion);\n  };\n\n  const shareLink = new URL(document.location);\n  shareLink.searchParams.set(\n    \"state\",\n    btoa(minifyJson(fixtures.filter((f) => f.result)))\n  );\n\n  const reset = () => {\n    trackEvent({ action: \"click\", category: \"button\", label: \"reset\" });\n\n    setFixtures(\n      fixtures.map((f) => {\n        return { ...f, result: undefined };\n      })\n    );\n  };\n\n  const copyShareLink = () => {\n    trackEvent({ action: \"click\", category: \"button\", label: \"share\" });\n    const isMobile = /Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(\n      navigator.userAgent\n    );\n\n    if (isMobile && navigator.share) {\n      navigator.share({\n        text: shareLink.toString()\n      });\n    } else if (navigator.clipboard) {\n      navigator.clipboard\n        .writeText(shareLink.toString())\n        .then(() => {\n          alert(\"הועתק ללוח\");\n        })\n        .catch((e) => console.log(e));\n    } else {\n      window.prompt(shareLink.toString());\n    }\n  };\n\n  const shuffle = () => {\n    trackEvent({ action: \"click\", category: \"button\", label: \"shuffle\" });\n    const randomIntFromInterval = (min, max) => {\n      // min and max included\n      return Math.floor(Math.random() * (max - min + 1) + min);\n    };\n\n    const newFixtures = fixtures.map((f) => {\n      return { ...f, result: randomIntFromInterval(1, 3).toString() };\n    });\n    setFixtures(newFixtures);\n  };\n\n  return (\n    <div className=\"App\">\n      <div id=\"table\">\n        <LeagueTable teams={teams} />\n      </div>\n      <button onClick={copyShareLink}>שתף מצב נוכחי</button> |\n      <button onClick={reset}>איפוס</button> |\n      <button onClick={shuffle}>אקראי</button>\n      <div id=\"fixtures\">\n        <Fixtures fixtures={fixtures} applyFn={applyFixtureResult} />\n      </div>\n    </div>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}